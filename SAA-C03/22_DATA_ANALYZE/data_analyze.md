# Athena

s3 버킷에 저장된 데이터 분석에 사용하는 서버리스 쿼리 서브스로 데이터를 분석하려면 표준 sql 언어로 파일을 쿼리해야 합니다. 

전체 서비스가 서버리스여서 데이터베이스를 프로비저닝 할 필요가 없습니다. 

quicksight 는 s3버키셍 연결된 athena 다음에 배치됩니다. 

사용 사례로는 임시 쿼리 수행이나 비즈니스 인텔리전스 분석 및 보고가 있고 AWS 서비스에서 발생하는 모든 로그를 쿼리하고 분석할 수 있습니다 VPC 흐름 로그, 로드 밸런서 로그 CloudTrail 추적 등이 해당됩니다

*서버리스 sql 엔진을 사용한 s3 데이터 분석이 나오면 Athena 입니다.*

*Athena 성능도 향상이 가능하며 방법으로는 스캔된 데이터당 TB 당 가격을 지불하므로 데이터를 적게 스캔할 유형의 데이터를 사용합니다. 필요한 열만 스캔하므로 비용을 절감합니다.*

권장하는 형식은 apache parquet 와 orc 입니다. 

파일을 Apache Parquet나 ORC 형식으로 가져오려면 Glue 적재 작업이 있습니다. csv 나 parquet간의 데이터를 변환하는 데 매우 유용합니다. 더 적은 데이터를 스캔해야 하므로 데이터를 압축합니다. 

s3 의 정확히 어떤 폴더에서 데이터를 가져와야 하는지 알 수 있어 데이터의 서브셋만 복구하면 됩니다. 

Amazon S3에 작은 파일이 너무 많으면
Athena는 큰 파일이 있을 때보다 성능이 떨어집니다

Athena는 S3뿐만 아니라 어떤 곳의 데이터도 쿼리할 수 있습니다


AWS나 온프레미스에서 어떻게 사용할까요?
데이터 원본 커넥터를 사용하면 됩니다
데이터 원본 커넥터는 Lambda 함수로
다른 서비스에서 연합 쿼리를 실행합니다
CloutWacth Logs, DyanamoDB RDS 등에서 실행하며 매우 강력합니다

# RedShift


